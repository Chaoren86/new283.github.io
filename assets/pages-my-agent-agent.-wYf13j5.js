import{l as e,N as a,m as s,T as t,G as l,J as o,k as c,u as i,z as n,A as d,a as u,w as r,j as _,o as f,b as p,f as h,g as m,n as g,e as w,r as b,F as v,h as y,v as k,x,i as C,C as j}from"./index-2i5NzYaS.js";import{_ as D}from"./uni-popup.CD6VvzeA.js";import{r as S}from"./uni-app.es.B4d-brn-.js";import{$ as z}from"./request.CmV1KS_Y.js";import{_ as I}from"./goBack-icon.Dnnb51to.js";import{_ as $}from"./zwsj.YT3FapE5.js";import{_ as q,a as F}from"./qrcode-icon.CEcbgVe2.js";import{_ as R}from"./_plugin-vue_export-helper.BCo6x5W8.js";const U=R({data:()=>({inviteShow:!1,show:!1,UserInfo:{},tableData:{},grade:"一级",date:"今日",dateMore:!1,page:1,list:[],loadStatus:"loadmore"}),onLoad(){if(this.UserInfo=e("UserInfo"),!this.UserInfo.uid||!this.UserInfo.token)return a({url:"/pages/index/index"});this.getData(),this.get_list()},onReachBottom(){this.get_list()},methods:{selSaveItem(e){"link"==e?this.copys(this.tableData.agent_url):this.$refs.qrcode_popup.open(),this.$refs.save_popup.close()},closeQRcodeSave(){this.$refs.qrcode_popup.close()},saveOpen(){this.$refs.save_popup.open()},closeQRcodeSave(){this.$refs.qrcode_popup.close()},closeSave(){this.$refs.save_popup.close()},copys(e){let a=e,t=document.createElement("input");t.value=a,document.body.appendChild(t),t.select(),document.execCommand("Copy"),s({title:"复制成功",icon:"none"}),t.remove()},submitForm(){if(Number(this.tableData.agent_money<10))return s({title:"转入金额必须大于10元",duration:1e3,icon:"none"});let e=this;t({title:"佣金操作",content:`本次转入 ￥${e.tableData.agent_money}元，到账户余额？`,cancelText:"取消",confirmText:"确定",success:function(a){a.confirm?z.post("/app_user_agent_money").then((a=>{200==a.code?(s({title:a.msg,duration:2e3,icon:"none"}),e.getData()):s({title:a.msg,duration:2e3,icon:"none"})})):a.cancel}})},getData(){z.post("/app_user_agent",{domain:window.location.origin,grade:this.grade,date:this.date}).then((e=>{if(console.log(e),200!=e.code)return s({title:e.msg,duration:1e3,icon:"none"});this.tableData=e.data,this.show=!0}))},list_change(e,a){"grade"==a?this.grade=e:(this.date=e,this.dateMore=!1),this.page=1,this.list=[],this.loadStatus="loadmore",this.getData(),this.get_list()},get_list(){"loadmore"==this.loadStatus&&(this.loadStatus="loading",l({}),z.post("/app_user_agent_log",{type:"list",grade:this.grade,date:this.date,pagenum:this.page}).then((e=>{if(o(),console.log(e),200!=e.code)return s({title:e.msg,duration:1e3,icon:"none"});this.page>=e.data.last_page?this.loadStatus="nomore":(this.loadStatus="loadmore",this.page++),this.list=this.list.concat(e.data.data),this.show=!0})))},copyLink(e){this.copys(e)},copys(e){let a=e,t=document.createElement("input");t.value=a,document.body.appendChild(t),t.select(),document.execCommand("Copy"),s({title:"复制成功",icon:"none"}),t.remove()},go_xiazhu(e){c({url:"/pages/my/order/order?user_uid="+e.uid})},RouteIndex(e,a){c({url:`/pages/my/agent/${e}?type=${a}`})}}},[["render",function(e,a,s,t,l,o){const c=x,z=_,R=C,U=j,M=S(i("uni-popup"),D);return n((f(),u(z,{class:"content"},{default:r((()=>[p(z,{class:"w-750 w-bj-cont",style:{position:"fixed",top:"0",left:"0","z-index":"9"}},{default:r((()=>[p(z,{class:"h-100 w-row-justify-between-align"},{default:r((()=>[p(z,{class:"wh-80 w-row-center",onClick:a[0]||(a[0]=a=>e.routerBack())},{default:r((()=>[p(c,{class:"wh-40",src:I})])),_:1}),p(z,{class:"flex1 h-100 w-row-center w-wz-conts font-36"},{default:r((()=>[h("代理中心")])),_:1}),l.UserInfo.is_agent?(f(),u(z,{key:0,class:"wh-130 w-row-center w-wz-conts p-right-14 disflex",onClick:a[1]||(a[1]=e=>o.saveOpen())},{default:r((()=>[p(c,{class:"save-icon",src:"/assets/add-user-D-4tipsm.png",mode:"widthFix"}),h(" 邀请 ")])),_:1})):(f(),u(z,{key:1,class:"wh-130 w-row-center w-wz-conts p-right-14"}))])),_:1})])),_:1}),p(z,{class:"bwh-100"}),p(z,{class:"bwh-20"}),p(z,{class:"w-720 w-bj-cont w-bor-12 w-column-align"},{default:r((()=>[p(z,{class:"top_wrap"},{default:r((()=>[p(z,{class:"item"},{default:r((()=>[p(z,{class:"label"},{default:r((()=>[h("总人数")])),_:1}),p(z,{class:"val"},{default:r((()=>[h(m(l.tableData.agent_all_count),1)])),_:1})])),_:1}),p(z,{class:"item"},{default:r((()=>[p(z,{class:"label"},{default:r((()=>[h("佣金余额")])),_:1}),p(z,{class:"val"},{default:r((()=>[h("¥ "),p(R,{class:"num"},{default:r((()=>[h(m(l.tableData.agent_money),1)])),_:1}),h(" 元")])),_:1})])),_:1}),p(z,{class:"item",style:{display:"flex","align-items":"center","justify-content":"center"}},{default:r((()=>[p(U,{type:"primary",size:"mini",onClick:a[2]||(a[2]=e=>o.submitForm())},{default:r((()=>[h("转入钱包")])),_:1})])),_:1})])),_:1}),p(z,{class:"top_wrap"},{default:r((()=>[p(z,{class:"item"},{default:r((()=>[p(z,{class:"label"},{default:r((()=>[h("总输赢")])),_:1}),p(z,{class:"val"},{default:r((()=>[h("¥ "),p(R,{class:"num"},{default:r((()=>[h(m(l.tableData.total_sy),1)])),_:1}),h(" 元")])),_:1})])),_:1}),p(z,{class:"item"},{default:r((()=>[p(z,{class:"label"},{default:r((()=>[h(m(l.date)+"总上分",1)])),_:1}),p(z,{class:"val"},{default:r((()=>[h("¥ "),p(R,{class:"num"},{default:r((()=>[h(m(l.tableData.sanfen),1)])),_:1}),h(" 元")])),_:1})])),_:1}),p(z,{class:"item"},{default:r((()=>[p(z,{class:"label"},{default:r((()=>[h(m(l.date)+"总下分",1)])),_:1}),p(z,{class:"val"},{default:r((()=>[h("¥ "),p(R,{class:"num"},{default:r((()=>[h(m(l.tableData.xiafen),1)])),_:1}),h(" 元")])),_:1})])),_:1})])),_:1}),p(z,{class:"date_bar"},{default:r((()=>[p(z,{class:g(["item",{active:"一级"==l.grade}]),onClick:a[3]||(a[3]=e=>o.list_change("一级","grade"))},{default:r((()=>[h("一级")])),_:1},8,["class"]),p(z,{class:g(["item",{active:"二级"==l.grade}]),onClick:a[4]||(a[4]=e=>o.list_change("二级","grade"))},{default:r((()=>[h("二级")])),_:1},8,["class"]),p(z,{class:g(["item",{active:"三级"==l.grade}]),onClick:a[5]||(a[5]=e=>o.list_change("三级","grade"))},{default:r((()=>[h("三级")])),_:1},8,["class"]),p(z,{class:"item",onClick:a[6]||(a[6]=e=>l.dateMore=!0)},{default:r((()=>[h(m(l.date)+" ",1),p(c,{src:I})])),_:1}),n(p(z,{class:"more"},{default:r((()=>[p(z,{class:g(["item2",{active2:"今日"==l.date}]),onClick:a[7]||(a[7]=e=>o.list_change("今日","date"))},{default:r((()=>[h("今日")])),_:1},8,["class"]),p(z,{class:g(["item2",{active2:"三天"==l.date}]),onClick:a[8]||(a[8]=e=>o.list_change("三天","date"))},{default:r((()=>[h("三天")])),_:1},8,["class"]),p(z,{class:g(["item2",{active2:"本周"==l.date}]),onClick:a[9]||(a[9]=e=>o.list_change("本周","date"))},{default:r((()=>[h("本周")])),_:1},8,["class"]),p(z,{class:g(["item2",{active2:"本月"==l.date}]),onClick:a[10]||(a[10]=e=>o.list_change("本月","date"))},{default:r((()=>[h("本月")])),_:1},8,["class"])])),_:1},512),[[d,l.dateMore]])])),_:1}),p(z,{class:"list"},{default:r((()=>[(f(!0),w(v,null,b(l.list,(e=>(f(),u(z,{class:"item"},{default:r((()=>[p(z,{class:"box1"},{default:r((()=>[p(c,{class:"avatar",src:e.headimgurl?e.headimgurl:"/static/gane/user.png",mode:"aspectFill"},null,8,["src"]),e.nickname.includes("****")?(f(),u(z,{key:0,class:"nickname"},{default:r((()=>[h(m(e.phone),1)])),_:2},1024)):(f(),u(z,{key:1,class:"nickname"},{default:r((()=>[h(m(e.nickname),1)])),_:2},1024))])),_:2},1024),p(z,{class:"box2"},{default:r((()=>[p(z,{class:"box2_item"},{default:r((()=>[p(z,{class:"label"},{default:r((()=>[h(m(l.date)+"上分",1)])),_:1}),p(z,{class:"val"},{default:r((()=>[h("￥"+m(e.sanfen),1)])),_:2},1024)])),_:2},1024),p(z,{class:"box2_item"},{default:r((()=>[p(z,{class:"label"},{default:r((()=>[h(m(l.date)+"下分",1)])),_:1}),p(z,{class:"val"},{default:r((()=>[h("￥"+m(e.xiafen),1)])),_:2},1024)])),_:2},1024),p(z,{class:"box2_item"},{default:r((()=>[p(z,{class:"label"},{default:r((()=>[h(m(l.date)+"输赢",1)])),_:1}),e.shuying>=0?(f(),u(z,{key:0,class:"val"},{default:r((()=>[e.shuying>0?(f(),w("span",{key:0},"+")):y("",!0),h("￥"+m(e.shuying),1)])),_:2},1024)):y("",!0),e.shuying<0?(f(),u(z,{key:1,class:"val"},{default:r((()=>[h("-￥"+m(Math.abs(e.shuying)),1)])),_:2},1024)):y("",!0)])),_:2},1024)])),_:2},1024),p(z,{class:"box3"},{default:r((()=>[p(z,{class:"btn",onClick:a=>o.go_xiazhu(e)},{default:r((()=>[h("下注记录")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),256)),l.list.length<=0?(f(),u(z,{key:0,class:"empty"},{default:r((()=>[p(c,{class:"wh-150",src:$}),p(z,{class:"w-wz-conts"},{default:r((()=>[h("暂 无 数 据 ")])),_:1})])),_:1})):y("",!0)])),_:1})])),_:1}),p(M,{style:{"z-index":"999"},ref:"save_popup",type:"bottom"},{default:r((()=>[p(z,{class:"w-bj-white saveBox"},{default:r((()=>[p(z,{class:"van-share-sheet__header"},{default:r((()=>[k("h2",{class:"van-share-sheet__title"},"立即分享给好友")])),_:1}),p(z,{class:"van-share-sheet__options"},{default:r((()=>[p(z,{class:"save-items",onClick:a[11]||(a[11]=e=>o.selSaveItem("link"))},{default:r((()=>[p(c,{src:q,mode:"widthFix"}),p(z,{class:""},{default:r((()=>[h(" 复制链接 ")])),_:1})])),_:1}),p(z,{class:"save-items",onClick:a[12]||(a[12]=e=>o.selSaveItem("qrcode"))},{default:r((()=>[p(c,{src:F,mode:"widthFix"}),p(z,{class:""},{default:r((()=>[h(" 二维码 ")])),_:1})])),_:1})])),_:1}),p(U,{type:"button",class:"van-share-sheet__cancel",onClick:a[13]||(a[13]=e=>o.closeSave())},{default:r((()=>[h("取消")])),_:1})])),_:1})])),_:1},512),p(M,{style:{"z-index":"999"},ref:"qrcode_popup",type:"center"},{default:r((()=>[p(z,{class:"w-bj-white w-600 w-col-center w-bor-25"},{default:r((()=>[p(c,{src:l.tableData.agent_code,class:"w-bor-25",style:{width:"600rpx",height:"600rpx"}},null,8,["src"]),p(U,{type:"button",class:"van-share-sheet__cancel",onClick:a[14]||(a[14]=e=>o.closeQRcodeSave())},{default:r((()=>[h("取消")])),_:1})])),_:1})])),_:1},512)])),_:1},512)),[[d,l.show]])}],["__scopeId","data-v-ebca2c22"]]);export{U as default};
