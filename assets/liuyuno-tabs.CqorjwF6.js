import{_ as t,c as e,a7 as i,o as a,a as l,w as s,b as n,n as d,e as o,r as c,F as f,d as r,j as h,z as u,h as g,x as b,g as C,y as x}from"./index-BrfRr25j.js";const p=t({name:"liuyuno-tabs",props:{tabData:{type:Array,default:()=>[]},activeIndex:{type:Number,default:0},config:{type:Object,default:()=>({})}},data:()=>({tabList:[],tagIndex:0,slider:{left:0,width:0,scrollLeft:0},scorll:{},defaultConfig:{key:"name",fontSize:26,color:"#313131",activeColor:"#f4af00",itemWidth:0,underLinePadding:10,underLineWidth:40,underLineHeight:8,underLineColor:"#f4af00"}}),watch:{tabData(t){this.updateData(),setTimeout((()=>{this.updateTabWidth()}),0)},config(t){this.updateConfig()},activeIndex(t){this.tagIndex=t,this.tabToIndex(t)}},mounted(){this.updateConfig(),this.updateData(),this.tagIndex=this.activeIndex,this.$nextTick((()=>{this.calcScrollPosition()}))},methods:{updateData(){let t=[];"string"==typeof this.tabData[0]?(this.tabData.forEach(((e,i)=>{t.push({name:e.title,activateIcon:e.activateIcon,inactiveIcon:e.inactiveIcon,redirect:e.redirect})})),this.defaultConfig.key="name"):t=JSON.parse(JSON.stringify(this.tabData)),this.tabList=t},updateConfig(){this.defaultConfig=Object.assign(this.defaultConfig,this.config)},calcScrollPosition(){e().in(this).select("#_scroll").boundingClientRect((t=>{this.scorll=t,this.updateTabWidth()})).exec()},updateTabWidth(t=0){let i=this.tabList;if(0==i.length)return!1;e().in(this).select("#_tab_"+t).boundingClientRect((e=>{i[t]._slider={width:e.width,left:e.left,scrollLeft:e.left-(i[t-1]?i[t-1]._slider.width:0)},this.tagIndex==t&&this.tabToIndex(this.tagIndex),t++,i.length>t&&this.updateTabWidth(t)})).exec()},tabToIndex(t){let e=this.tabList[t]._slider,a=i(this.defaultConfig.underLineWidth);a||(a=this.defaultConfig.itemWidth?i(this.defaultConfig.itemWidth):this.tabList[t][this.defaultConfig.key].length*i(this.defaultConfig.fontSize),a+=2*i(this.defaultConfig.underLinePadding));let l=this.scorll.left||0;this.slider={left:e.left-l+(e.width-a)/2,width:a,scrollLeft:e.scrollLeft-l}},tabClick(t,e){this.tagIndex=t,this.tabToIndex(t),this.$emit("tabClick",t,e)}}},[["render",function(t,e,i,p,_,I){const m=x,y=h,L=u;return a(),l(y,{class:"_tab-box",style:r({fontSize:_.defaultConfig.fontSize+"rpx",color:_.defaultConfig.color})},{default:s((()=>[n(L,{id:"_scroll","scroll-x":!0,class:"scroll-view-h","scroll-with-animation":"","scroll-left":_.slider.scrollLeft},{default:s((()=>[n(y,{class:"_scroll-content"},{default:s((()=>[n(y,{class:d(["_tab-item-box",[_.defaultConfig.itemWidth?"_clamp":"_flex"]])},{default:s((()=>[(a(!0),o(f,null,c(_.tabList,((t,e)=>(a(),l(y,{key:e,class:d(["_item",{_active:_.tagIndex===e}]),id:"_tab_"+e,style:r({color:_.tagIndex==e?_.defaultConfig.activeColor:_.defaultConfig.color,width:_.defaultConfig.itemWidth?_.defaultConfig.itemWidth+"rpx":""}),onClick:i=>I.tabClick(e,t.redirect)},{default:s((()=>[t.activateIcon?(a(),l(m,{key:0,class:"setIcon",src:_.tagIndex==e?t.activateIcon:t.inactiveIcon,mode:"widthFix"},null,8,["src"])):g("",!0),b("span",null,C(t.title),1)])),_:2},1032,["id","class","style","onClick"])))),128))])),_:1},8,["class"]),n(y,{class:"_underline",style:r({transform:"translateX("+_.slider.left+"px)",width:_.slider.width+"px",height:_.defaultConfig.underLineHeight+"rpx",backgroundColor:_.defaultConfig.underLineColor})},null,8,["style"])])),_:1})])),_:1},8,["scroll-left"])])),_:1},8,["style"])}],["__scopeId","data-v-228c2921"]]);export{p as _};
