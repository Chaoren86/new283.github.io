import{c as t,a6 as e,o as i,a,w as l,b as s,n,e as d,r as o,F as c,d as f,j as r,y as h,h as u,v as g,g as b,x as C}from"./index-CzPo0QPm.js";import{_ as x}from"./_plugin-vue_export-helper.BCo6x5W8.js";const p=x({name:"liuyuno-tabs",props:{tabData:{type:Array,default:()=>[]},activeIndex:{type:Number,default:0},config:{type:Object,default:()=>({})}},data:()=>({tabList:[],tagIndex:0,slider:{left:0,width:0,scrollLeft:0},scorll:{},defaultConfig:{key:"name",fontSize:26,color:"#313131",activeColor:"#f4af00",itemWidth:0,underLinePadding:10,underLineWidth:40,underLineHeight:8,underLineColor:"#f4af00"}}),watch:{tabData(t){this.updateData(),setTimeout((()=>{this.updateTabWidth()}),0)},config(t){this.updateConfig()},activeIndex(t){this.tagIndex=t,this.tabToIndex(t)}},mounted(){this.updateConfig(),this.updateData(),this.tagIndex=this.activeIndex,this.$nextTick((()=>{this.calcScrollPosition()}))},methods:{updateData(){let t=[];"string"==typeof this.tabData[0]?(this.tabData.forEach(((e,i)=>{t.push({name:e.title,activateIcon:e.activateIcon,inactiveIcon:e.inactiveIcon,redirect:e.redirect})})),this.defaultConfig.key="name"):t=JSON.parse(JSON.stringify(this.tabData)),this.tabList=t},updateConfig(){this.defaultConfig=Object.assign(this.defaultConfig,this.config)},calcScrollPosition(){t().in(this).select("#_scroll").boundingClientRect((t=>{this.scorll=t,this.updateTabWidth()})).exec()},updateTabWidth(e=0){let i=this.tabList;if(0==i.length)return!1;t().in(this).select("#_tab_"+e).boundingClientRect((t=>{i[e]._slider={width:t.width,left:t.left,scrollLeft:t.left-(i[e-1]?i[e-1]._slider.width:0)},this.tagIndex==e&&this.tabToIndex(this.tagIndex),e++,i.length>e&&this.updateTabWidth(e)})).exec()},tabToIndex(t){let i=this.tabList[t]._slider,a=e(this.defaultConfig.underLineWidth);a||(a=this.defaultConfig.itemWidth?e(this.defaultConfig.itemWidth):this.tabList[t][this.defaultConfig.key].length*e(this.defaultConfig.fontSize),a+=2*e(this.defaultConfig.underLinePadding));let l=this.scorll.left||0;this.slider={left:i.left-l+(i.width-a)/2,width:a,scrollLeft:i.scrollLeft-l}},tabClick(t,e){this.tagIndex=t,this.tabToIndex(t),this.$emit("tabClick",t,e)}}},[["render",function(t,e,x,p,_,m){const I=C,y=r,L=h;return i(),a(y,{class:"_tab-box",style:f({fontSize:_.defaultConfig.fontSize+"rpx",color:_.defaultConfig.color})},{default:l((()=>[s(L,{id:"_scroll","scroll-x":!0,class:"scroll-view-h","scroll-with-animation":"","scroll-left":_.slider.scrollLeft},{default:l((()=>[s(y,{class:"_scroll-content"},{default:l((()=>[s(y,{class:n(["_tab-item-box",[_.defaultConfig.itemWidth?"_clamp":"_flex"]])},{default:l((()=>[(i(!0),d(c,null,o(_.tabList,((t,e)=>(i(),a(y,{key:e,class:n(["_item",{_active:_.tagIndex===e}]),id:"_tab_"+e,style:f({color:_.tagIndex==e?_.defaultConfig.activeColor:_.defaultConfig.color,width:_.defaultConfig.itemWidth?_.defaultConfig.itemWidth+"rpx":""}),onClick:i=>m.tabClick(e,t.redirect)},{default:l((()=>[t.activateIcon?(i(),a(I,{key:0,class:"setIcon",src:_.tagIndex==e?t.activateIcon:t.inactiveIcon,mode:"widthFix"},null,8,["src"])):u("",!0),g("span",null,b(t.title),1)])),_:2},1032,["id","class","style","onClick"])))),128))])),_:1},8,["class"]),s(y,{class:"_underline",style:f({transform:"translateX("+_.slider.left+"px)",width:_.slider.width+"px",height:_.defaultConfig.underLineHeight+"rpx",backgroundColor:_.defaultConfig.underLineColor})},null,8,["style"])])),_:1})])),_:1},8,["scroll-left"])])),_:1},8,["style"])}],["__scopeId","data-v-228c2921"]]);export{p as _};
