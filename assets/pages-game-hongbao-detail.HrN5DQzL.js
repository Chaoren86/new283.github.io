import{_ as e,s,a,w as t,j as l,o as i,b as o,f as n,g as c,x as u,e as d,h as f,r,F as m,y as _,i as p}from"./index-BrfRr25j.js";import{$ as h}from"./request.BcI2bJcs.js";import{_ as y}from"./goBack-white-icon.P3HVWa1_.js";import{_ as g}from"./user.C18wHkI1.js";const k=e({data:()=>({id:null,info:{},time:null,userInfo:{}}),onLoad(e){this.id=e.id,this.getInfo()},mounted(){this.getUserInfo(),this.time=setInterval((()=>{this.getInfo()}),3e3)},onUnload(){this.time&&(clearInterval(this.time),this.time=null)},methods:{getUserInfo(){h.post("/app_user_get_userinfo").then((e=>{200==e.code&&(this.userInfo=e.data,s("UserInfo",e.data))}))},settlement(){h.post("/app_red_envelope_settlement",{id:this.id}).then((e=>{e.code}))},getInfo(){h.post("/app_red_envelope_info",{id:this.id}).then((e=>{console.log(e,"getRoom"),200==e.code&&(this.info=e.data,1==e.data.status&&(this.settlement(),clearInterval(this.time),this.time=null))}))}}},[["render",function(e,s,h,k,w,I){const b=_,v=l,x=p;return i(),a(v,{class:"detail"},{default:t((()=>[o(v,{class:"w-750",style:{position:"fixed",top:"0",left:"0","z-index":"999"}},{default:t((()=>[o(v,{class:"h-100 w-row-justify-between-align"},{default:t((()=>[o(v,{class:"wh-80 w-row-center",onClick:s[0]||(s[0]=s=>e.routerBack())},{default:t((()=>[o(b,{class:"wh-40",src:y})])),_:1}),o(v,{class:"flex1 h-100 w-row-center w-wz-conts font-36 text-color-white"},{default:t((()=>[o(x,null,{default:t((()=>[n("红包信息")])),_:1})])),_:1}),o(v,{class:"wh-80 w-row-center"})])),_:1})])),_:1}),o(v,{class:"bwh-120"}),o(v,{class:"hongbao-title-bg"},{default:t((()=>[o(v,{class:"ba-top"}),o(v,{class:"ba-bot"}),o(v,{class:"cent"},{default:t((()=>[o(v,{class:"title"},{default:t((()=>[o(v,{class:"avatar"},{default:t((()=>[o(v,{class:"van-image"},{default:t((()=>[w.info.headimgurl?(i(),a(b,{key:0,src:w.info.headimgurl,class:"van-image__img"},null,8,["src"])):(i(),a(b,{key:1,src:g,class:"van-image__img"}))])),_:1})])),_:1}),o(v,{class:"name"},{default:t((()=>[n(c(w.info.nickname)+"的红包 ",1)])),_:1})])),_:1}),o(v,{class:"price-box"},{default:t((()=>[n(" 金额 "),u("span",null,c(w.info.money),1),3==w.info.type?(i(),d("span",{key:0},"- 雷"+c(w.info.leiNumber),1)):f("",!0)])),_:1})])),_:1})])),_:1}),o(v,{class:"cent-box"},{default:t((()=>[o(v,{class:"total"},{default:t((()=>[n(" 共 "),u("span",null,c(w.info.endNumber)+"/"+c(w.info.number),1),n(" 个红包 ")])),_:1}),(i(!0),d(m,null,r(w.info.orderList,((e,s)=>(i(),a(v,{class:"item",key:s},{default:t((()=>[e.headimgurl?(i(),a(b,{key:0,src:e.headimgurl,class:"profile-img"},null,8,["src"])):(i(),a(b,{key:1,src:g,class:"profile-img"})),o(v,{class:"title"},{default:t((()=>[o(v,{class:"name"},{default:t((()=>[w.info.userId==e.userId?(i(),a(v,{key:0,class:"tips"},{default:t((()=>[n(" 庄 ")])),_:1})):f("",!0),n(" "+c(e.nickname),1)])),_:2},1024),o(v,{class:"time"},{default:t((()=>[n(c(e.createtime),1)])),_:2},1024)])),_:2},1024),o(v,{class:"outcome"},{default:t((()=>[o(v,{class:"outcome-title"},{default:t((()=>[n(" 胜负 ")])),_:1}),"1"==e.game_type?(i(),a(v,{key:0},{default:t((()=>[1==e.status?(i(),a(v,{key:0,class:"price"},{default:t((()=>[n(c(e.amoney),1)])),_:2},1024)):f("",!0),2==e.status?(i(),a(v,{key:1,class:"price"},{default:t((()=>[n(" -"+c(w.info.money),1)])),_:1})):f("",!0),0==e.status?(i(),a(v,{key:2,class:"price"},{default:t((()=>[e.userId==w.userInfo.uid?(i(),d("span",{key:0},c(e.amoney),1)):(i(),d("span",{key:1},"--"))])),_:2},1024)):f("",!0)])),_:2},1024)):(i(),a(v,{key:1},{default:t((()=>[1==w.info.status?(i(),a(v,{key:0,class:"price"},{default:t((()=>[n(c(e.income_amount),1)])),_:2},1024)):(i(),a(v,{key:1,class:"price"},{default:t((()=>[n(" -- ")])),_:1}))])),_:2},1024))])),_:2},1024),o(v,{class:"outcome"},{default:t((()=>[o(v,{class:"outcome-title"},{default:t((()=>[n(" 抢包 ")])),_:1}),1==w.info.status?(i(),a(v,{key:0,class:"price"},{default:t((()=>[n(c(e.amoney),1)])),_:2},1024)):(i(),a(v,{key:1,class:"price"},{default:t((()=>[e.userId==w.userInfo.uid?(i(),d("span",{key:0},c(e.amoney),1)):(i(),d("span",{key:1},"--"))])),_:2},1024))])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})}],["__scopeId","data-v-9ec11861"]]);export{k as default};
