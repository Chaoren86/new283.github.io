import{s as e,a as s,w as a,j as t,o as l,b as o,f as i,g as n,v as c,e as u,h as r,r as f,F as d,x as m,i as _}from"./index-2i5NzYaS.js";import{$ as p}from"./request.CmV1KS_Y.js";import{_ as h}from"./goBack-white-icon.P3HVWa1_.js";import{_ as y}from"./user.C18wHkI1.js";import{_ as g}from"./_plugin-vue_export-helper.BCo6x5W8.js";const k=g({data:()=>({id:null,info:{},time:null,userInfo:{}}),onLoad(e){this.id=e.id,this.getInfo()},mounted(){this.getUserInfo(),this.time=setInterval((()=>{this.getInfo()}),3e3)},onUnload(){this.time&&(clearInterval(this.time),this.time=null)},methods:{getUserInfo(){p.post("/app_user_get_userinfo").then((s=>{200==s.code&&(this.userInfo=s.data,e("UserInfo",s.data))}))},settlement(){p.post("/app_red_envelope_settlement",{id:this.id}).then((e=>{e.code}))},getInfo(){p.post("/app_red_envelope_info",{id:this.id}).then((e=>{console.log(e,"getRoom"),200==e.code&&(this.info=e.data,1==e.data.status&&(this.settlement(),clearInterval(this.time),this.time=null))}))}}},[["render",function(e,p,g,k,w,I){const b=m,v=t,x=_;return l(),s(v,{class:"detail"},{default:a((()=>[o(v,{class:"w-750",style:{position:"fixed",top:"0",left:"0","z-index":"999"}},{default:a((()=>[o(v,{class:"h-100 w-row-justify-between-align"},{default:a((()=>[o(v,{class:"wh-80 w-row-center",onClick:p[0]||(p[0]=s=>e.routerBack())},{default:a((()=>[o(b,{class:"wh-40",src:h})])),_:1}),o(v,{class:"flex1 h-100 w-row-center w-wz-conts font-36 text-color-white"},{default:a((()=>[o(x,null,{default:a((()=>[i("红包信息")])),_:1})])),_:1}),o(v,{class:"wh-80 w-row-center"})])),_:1})])),_:1}),o(v,{class:"bwh-120"}),o(v,{class:"hongbao-title-bg"},{default:a((()=>[o(v,{class:"ba-top"}),o(v,{class:"ba-bot"}),o(v,{class:"cent"},{default:a((()=>[o(v,{class:"title"},{default:a((()=>[o(v,{class:"avatar"},{default:a((()=>[o(v,{class:"van-image"},{default:a((()=>[w.info.headimgurl?(l(),s(b,{key:0,src:w.info.headimgurl,class:"van-image__img"},null,8,["src"])):(l(),s(b,{key:1,src:y,class:"van-image__img"}))])),_:1})])),_:1}),o(v,{class:"name"},{default:a((()=>[i(n(w.info.nickname)+"的红包 ",1)])),_:1})])),_:1}),o(v,{class:"price-box"},{default:a((()=>[i(" 金额 "),c("span",null,n(w.info.money),1),3==w.info.type?(l(),u("span",{key:0},"- 雷"+n(w.info.leiNumber),1)):r("",!0)])),_:1})])),_:1})])),_:1}),o(v,{class:"cent-box"},{default:a((()=>[o(v,{class:"total"},{default:a((()=>[i(" 共 "),c("span",null,n(w.info.endNumber)+"/"+n(w.info.number),1),i(" 个红包 ")])),_:1}),(l(!0),u(d,null,f(w.info.orderList,((e,t)=>(l(),s(v,{class:"item",key:t},{default:a((()=>[e.headimgurl?(l(),s(b,{key:0,src:e.headimgurl,class:"profile-img"},null,8,["src"])):(l(),s(b,{key:1,src:y,class:"profile-img"})),o(v,{class:"title"},{default:a((()=>[o(v,{class:"name"},{default:a((()=>[w.info.userId==e.userId?(l(),s(v,{key:0,class:"tips"},{default:a((()=>[i(" 庄 ")])),_:1})):r("",!0),i(" "+n(e.nickname),1)])),_:2},1024),o(v,{class:"time"},{default:a((()=>[i(n(e.createtime),1)])),_:2},1024)])),_:2},1024),o(v,{class:"outcome"},{default:a((()=>[o(v,{class:"outcome-title"},{default:a((()=>[i(" 胜负 ")])),_:1}),"1"==e.game_type?(l(),s(v,{key:0},{default:a((()=>[1==e.status?(l(),s(v,{key:0,class:"price"},{default:a((()=>[i(n(e.amoney),1)])),_:2},1024)):r("",!0),2==e.status?(l(),s(v,{key:1,class:"price"},{default:a((()=>[i(" -"+n(w.info.money),1)])),_:1})):r("",!0),0==e.status?(l(),s(v,{key:2,class:"price"},{default:a((()=>[e.userId==w.userInfo.uid?(l(),u("span",{key:0},n(e.amoney),1)):(l(),u("span",{key:1},"--"))])),_:2},1024)):r("",!0)])),_:2},1024)):(l(),s(v,{key:1},{default:a((()=>[1==w.info.status?(l(),s(v,{key:0,class:"price"},{default:a((()=>[i(n(e.income_amount),1)])),_:2},1024)):(l(),s(v,{key:1,class:"price"},{default:a((()=>[i(" -- ")])),_:1}))])),_:2},1024))])),_:2},1024),o(v,{class:"outcome"},{default:a((()=>[o(v,{class:"outcome-title"},{default:a((()=>[i(" 抢包 ")])),_:1}),1==w.info.status?(l(),s(v,{key:0,class:"price"},{default:a((()=>[i(n(e.amoney),1)])),_:2},1024)):(l(),s(v,{key:1,class:"price"},{default:a((()=>[e.userId==w.userInfo.uid?(l(),u("span",{key:0},n(e.amoney),1)):(l(),u("span",{key:1},"--"))])),_:2},1024))])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})}],["__scopeId","data-v-9ec11861"]]);export{k as default};
