import{G as t,J as e,m as a,T as s,u as l,L as o,a as n,w as u,j as i,o as c,b as r,f as d,g as f,e as w,r as _,F as m,h,x as g,i as p}from"./index-DB5g2Fe6.js";import{a as y,b}from"./rq.CKh4wBr-.js";import{r as x}from"./uni-app.es.D1iKmVOV.js";import{$ as j}from"./request.DCFLMi9-.js";import{e as k}from"./empty.-S9lELve.js";import{_ as v}from"./goBack-icon.Dnnb51to.js";import{_ as z,a as D,b as L}from"./order_wzj.DW2nOJMT.js";import{_ as U}from"./_plugin-vue_export-helper.BCo6x5W8.js";const T=U({components:{empty:k},data:()=>({tableData:[],count:{jx:2800,cx:2800,sy:2800},show:!1,start_time:"",end_time:"",pagenum:1,type:"",total:null,isShow:!1,user_uid:"",game_type:"",range:[{text:"台湾28",value:"aozhou"},{text:"加拿大28",value:"jianada"},{text:"韩国K3",value:"hgk3"},{text:"极速韩国K3",value:"jshgk3"},{text:"新澳门六合彩",value:"amlhc"},{text:"香港六合彩",value:"xglhc"},{text:"极速六合彩",value:"jslhc"},{text:"加拿大28",value:"jnd28"},{text:"新澳门28",value:"tw28"},{text:"澳门28",value:"els28"},{text:"香港28",value:"gat28"}],datetimesingle:[]}),onLoad(t){t.user_uid&&(this.user_uid=t.user_uid,this.type="agent"),this.game_type=t.game_type||"",this.getUserAgentLog()},onReachBottom(){t({title:"加载数据中..."}),this.pagenum++;let a=setInterval((()=>{e(),this.tableData.length==this.total?this.isShow=!0:this.getUserAgentLog(),clearTimeout(a)}),600)},methods:{changeTiem(t){this.pagenum=1,this.start_time=t[0],this.end_time=t[1],this.tableData=[],this.getUserAgentLog(!0)},gameChange(){this.tableData=[],this.getUserAgentLog()},getUserAgentLog(t){j.post("/app_user_order_list",{type:this.type,game_type:this.game_type,pagenum:this.pagenum,start_time:this.start_time,end_time:this.end_time,user_uid:this.user_uid}).then((e=>{if(console.log(e),200!=e.code)return a({title:e.msg,duration:1e3,icon:"none"});this.count=e.data.count,t?0==e.data.data.length?(this.tableData=[],this.isShow=!0):this.tableData.push(...e.data.data):(this.tableData.push(...e.data.data),this.total=e.data.total,this.show=!0)}))},cancel_order(t,e){if("agent"==this.type)return"";let l=this;s({title:"撤销投注",content:`确定撤销此投注，投注金额${e}?`,cancelText:"我在想想",confirmText:"确定撤单",success:function(e){e.confirm?j.post("/app_user_cancel_order",{orderid:t}).then((t=>{console.log(t),200==t.code&&(a({title:t.msg,duration:2e3,icon:"none"}),l.tableData=[],l.getUserAgentLog(!0))})):e.cancel}})}}},[["render",function(t,e,a,s,j,k){const U=g,T=i,A=p,C=x(l("uni-datetime-picker"),y),I=o("empty");return c(),n(T,{class:"content"},{default:u((()=>[r(T,{class:"w-750 title w-bj-white",style:{position:"fixed",top:"0",left:"0","z-index":"999"}},{default:u((()=>[r(T,{class:"h-100 w-row-justify-between-align"},{default:u((()=>[r(T,{class:"wh-80 w-row-center",onClick:e[0]||(e[0]=e=>t.routerBack())},{default:u((()=>[r(U,{class:"wh-40",src:v})])),_:1}),r(T,{class:"flex1 h-100 w-row-center w-wz-conts font-36"},{default:u((()=>[r(A,null,{default:u((()=>[d("投注记录")])),_:1})])),_:1}),r(T,{class:"wh-80 w-row-center"},{default:u((()=>[r(C,{type:"range",onChange:k.changeTiem,modelValue:j.datetimesingle,"onUpdate:modelValue":e[1]||(e[1]=t=>j.datetimesingle=t)},{default:u((()=>[r(U,{class:"wh-50",src:b})])),_:1},8,["onChange","modelValue"])])),_:1})])),_:1})])),_:1}),r(T,{class:"bwh-120"}),r(T,{class:"countBox w-720 w-bor-12 font-24"},{default:u((()=>[r(T,{class:"countItem"},{default:u((()=>[r(T,{class:"countMoeny"},{default:u((()=>[d(f(j.count.jx),1)])),_:1}),r(T,null,{default:u((()=>[d("进项流水")])),_:1})])),_:1}),r(T,{class:"countItem"},{default:u((()=>[r(T,{class:"countMoeny"},{default:u((()=>[d(f(j.count.cx),1)])),_:1}),r(T,null,{default:u((()=>[d("出项流水")])),_:1})])),_:1}),r(T,{class:"countItem"},{default:u((()=>[r(T,{class:"countMoeny"},{default:u((()=>[d(f(j.count.sy),1)])),_:1}),r(T,null,{default:u((()=>[d("输赢")])),_:1})])),_:1})])),_:1}),(c(!0),w(m,null,_(j.tableData,((t,e)=>(c(),n(T,{class:"w-720 w-bj-cont w-bor-12 w-column-align m-bottom-20 font-24 w-wz-conts"},{default:u((()=>[r(T,{class:"h-10"}),r(T,{class:"w-680 p-2 w-row-justify-between-align"},{default:u((()=>[r(A,{class:"font-24b text-color-grey"},{default:u((()=>[d("期号"+f(t.issue),1)])),_:2},1024),r(T,{class:"w-wz-black8",style:{display:"flex","align-items":"center"}},{default:u((()=>[2==t.status||3==t.status?(c(),n(A,{key:0,style:{border:"solid 2rpx #ffffff",padding:"5rpx 10rpx","border-radius":"2rpx",color:"#ffffff"}},{default:u((()=>[d("结果 "+f(t.issue_number),1)])),_:2},1024)):h("",!0),r(A,{class:"p-2"}),1==t.status?(c(),n(A,{key:1,onClick:e=>k.cancel_order(t.orderid,t.money)},{default:u((()=>[r(U,{class:"w-130",src:z,mode:"aspectFill",style:{height:"45rpx"}})])),_:2},1032,["onClick"])):h("",!0),2==t.status?(c(),n(A,{key:2},{default:u((()=>[r(U,{class:"w-100",src:D,mode:"aspectFill",style:{height:"45rpx"}})])),_:1})):h("",!0),3==t.status?(c(),n(A,{key:3},{default:u((()=>[r(U,{class:"w-100",src:L,mode:"aspectFill",style:{height:"45rpx"}})])),_:1})):h("",!0),4==t.status?(c(),n(A,{key:4,style:{border:"solid 2rpx #ffaa00",padding:"5rpx 10rpx","border-radius":"2rpx",color:"#ffaa00"}},{default:u((()=>[d("已撤单")])),_:1})):h("",!0)])),_:2},1024)])),_:2},1024),r(T,{class:"w-680 p-2 w-row-justify-between-align"},{default:u((()=>[r(A,{class:"font-26"},{default:u((()=>[d("投注编号")])),_:1}),r(A,{class:"w-wz-black8"},{default:u((()=>[d(f(t.orderid),1)])),_:2},1024)])),_:2},1024),r(T,{class:"w-680 p-2 w-row-justify-between-align"},{default:u((()=>[r(A,{class:"font-26"},{default:u((()=>[d("投注类型")])),_:1}),r(T,{class:"w-wz-cont",style:{display:"flex","align-items":"center"}},{default:u((()=>[d(f(t.game_name)+" | "+f(t.room_name)+" | "+f(t.room_betname),1)])),_:2},1024)])),_:2},1024),r(T,{class:"w-680 p-2 w-row-justify-between-align"},{default:u((()=>[r(A,{class:"font-26"},{default:u((()=>[d("下单号码")])),_:1}),r(A,{class:"w-wz-cont"},{default:u((()=>[r(A,{class:"p-2"},{default:u((()=>[d(f(t.number),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),r(T,{class:"w-680 p-2 w-row-justify-between-align"},{default:u((()=>[r(A,{class:"font-26"},{default:u((()=>[d("金额倍数")])),_:1}),r(A,{class:"w-wz-gree"},{default:u((()=>[d("￥"+f(t.money)+" | "+f(t.odds),1)])),_:2},1024)])),_:2},1024),r(T,{class:"w-680 p-2 w-row-justify-between-align"},{default:u((()=>[r(A,{class:"font-26"},{default:u((()=>[d("获得金额")])),_:1}),2==t.status?(c(),n(A,{key:0,class:"w-wz-gree"},{default:u((()=>[d("￥"+f(t.amoney),1)])),_:2},1024)):(c(),n(A,{key:1,class:"w-wz-gree"},{default:u((()=>[d("0.00")])),_:1}))])),_:2},1024),r(T,{class:"w-680 p-2 w-row-justify-between-align"},{default:u((()=>[r(A,{class:"font-26"},{default:u((()=>[d("投注时间")])),_:1}),r(A,{class:"w-wz-black8"},{default:u((()=>[d(f(t.create_time),1)])),_:2},1024)])),_:2},1024),r(T,{class:"h-10"})])),_:2},1024)))),256)),r(T,{class:"w-300 h-80 w-row-center w-bor-12"},{default:u((()=>[j.isShow?(c(),n(A,{key:0,class:"w-wz-conts font-28"},{default:u((()=>[d("没有数据了...")])),_:1})):h("",!0)])),_:1}),r(T,{class:"wh-30"}),0==j.tableData.length?(c(),n(I,{key:0})):h("",!0)])),_:1})}],["__scopeId","data-v-6b605acd"]]);export{T as default};
