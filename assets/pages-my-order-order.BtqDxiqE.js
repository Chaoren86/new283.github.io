import{_ as t,H as e,K as a,m as s,T as l,v as o,u as n,a as u,w as i,j as c,o as r,b as d,f,g as w,e as _,r as m,F as h,h as g,y as p,i as y}from"./index-BrfRr25j.js";import{a as b,b as x}from"./rq.xAAA3khH.js";import{r as j}from"./uni-app.es.Dyz4VRdN.js";import{$ as k}from"./request.BcI2bJcs.js";import{e as v}from"./empty.D3Kd7Kg3.js";import{_ as z}from"./goBack-icon.Dnnb51to.js";import{_ as D,a as L,b as T}from"./order_wzj.DW2nOJMT.js";const U=t({components:{empty:v},data:()=>({tableData:[],count:{jx:2800,cx:2800,sy:2800},show:!1,start_time:"",end_time:"",pagenum:1,type:"",total:null,isShow:!1,user_uid:"",game_type:"",range:[{text:"台湾28",value:"aozhou"},{text:"加拿大28",value:"jianada"},{text:"韩国K3",value:"hgk3"},{text:"极速韩国K3",value:"jshgk3"},{text:"新澳门六合彩",value:"amlhc"},{text:"香港六合彩",value:"xglhc"},{text:"极速六合彩",value:"jslhc"},{text:"加拿大28",value:"jnd28"},{text:"新澳门28",value:"tw28"},{text:"澳门28",value:"els28"},{text:"香港28",value:"gat28"}],datetimesingle:[]}),onLoad(t){t.user_uid&&(this.user_uid=t.user_uid,this.type="agent"),this.game_type=t.game_type||"",this.getUserAgentLog()},onReachBottom(){e({title:"加载数据中..."}),this.pagenum++;let t=setInterval((()=>{a(),this.tableData.length==this.total?this.isShow=!0:this.getUserAgentLog(),clearTimeout(t)}),600)},methods:{changeTiem(t){this.pagenum=1,this.start_time=t[0],this.end_time=t[1],this.tableData=[],this.getUserAgentLog(!0)},gameChange(){this.tableData=[],this.getUserAgentLog()},getUserAgentLog(t){k.post("/app_user_order_list",{type:this.type,game_type:this.game_type,pagenum:this.pagenum,start_time:this.start_time,end_time:this.end_time,user_uid:this.user_uid}).then((e=>{if(console.log(e),200!=e.code)return s({title:e.msg,duration:1e3,icon:"none"});this.count=e.data.count,t?0==e.data.data.length?(this.tableData=[],this.isShow=!0):this.tableData.push(...e.data.data):(this.tableData.push(...e.data.data),this.total=e.data.total,this.show=!0)}))},cancel_order(t,e){if("agent"==this.type)return"";let a=this;l({title:"撤销投注",content:`确定撤销此投注，投注金额${e}?`,cancelText:"我在想想",confirmText:"确定撤单",success:function(e){e.confirm?k.post("/app_user_cancel_order",{orderid:t}).then((t=>{console.log(t),200==t.code&&(s({title:t.msg,duration:2e3,icon:"none"}),a.tableData=[],a.getUserAgentLog(!0))})):e.cancel}})}}},[["render",function(t,e,a,s,l,k){const v=p,U=c,A=y,C=j(o("uni-datetime-picker"),b),I=n("empty");return r(),u(U,{class:"content"},{default:i((()=>[d(U,{class:"w-750 title w-bj-white",style:{position:"fixed",top:"0",left:"0","z-index":"999"}},{default:i((()=>[d(U,{class:"h-100 w-row-justify-between-align"},{default:i((()=>[d(U,{class:"wh-80 w-row-center",onClick:e[0]||(e[0]=e=>t.routerBack())},{default:i((()=>[d(v,{class:"wh-40",src:z})])),_:1}),d(U,{class:"flex1 h-100 w-row-center w-wz-conts font-36"},{default:i((()=>[d(A,null,{default:i((()=>[f("投注记录")])),_:1})])),_:1}),d(U,{class:"wh-80 w-row-center"},{default:i((()=>[d(C,{type:"range",onChange:k.changeTiem,modelValue:l.datetimesingle,"onUpdate:modelValue":e[1]||(e[1]=t=>l.datetimesingle=t)},{default:i((()=>[d(v,{class:"wh-50",src:x})])),_:1},8,["onChange","modelValue"])])),_:1})])),_:1})])),_:1}),d(U,{class:"bwh-120"}),d(U,{class:"countBox w-720 w-bor-12 font-24"},{default:i((()=>[d(U,{class:"countItem"},{default:i((()=>[d(U,{class:"countMoeny"},{default:i((()=>[f(w(l.count.jx),1)])),_:1}),d(U,null,{default:i((()=>[f("进项流水")])),_:1})])),_:1}),d(U,{class:"countItem"},{default:i((()=>[d(U,{class:"countMoeny"},{default:i((()=>[f(w(l.count.cx),1)])),_:1}),d(U,null,{default:i((()=>[f("出项流水")])),_:1})])),_:1}),d(U,{class:"countItem"},{default:i((()=>[d(U,{class:"countMoeny"},{default:i((()=>[f(w(l.count.sy),1)])),_:1}),d(U,null,{default:i((()=>[f("输赢")])),_:1})])),_:1})])),_:1}),(r(!0),_(h,null,m(l.tableData,((t,e)=>(r(),u(U,{class:"w-720 w-bj-cont w-bor-12 w-column-align m-bottom-20 font-24 w-wz-conts"},{default:i((()=>[d(U,{class:"h-10"}),d(U,{class:"w-680 p-2 w-row-justify-between-align"},{default:i((()=>[d(A,{class:"font-24b text-color-grey"},{default:i((()=>[f("期号"+w(t.issue),1)])),_:2},1024),d(U,{class:"w-wz-black8",style:{display:"flex","align-items":"center"}},{default:i((()=>[2==t.status||3==t.status?(r(),u(A,{key:0,style:{border:"solid 2rpx #ffffff",padding:"5rpx 10rpx","border-radius":"2rpx",color:"#ffffff"}},{default:i((()=>[f("结果 "+w(t.issue_number),1)])),_:2},1024)):g("",!0),d(A,{class:"p-2"}),1==t.status?(r(),u(A,{key:1,onClick:e=>k.cancel_order(t.orderid,t.money)},{default:i((()=>[d(v,{class:"w-130",src:D,mode:"aspectFill",style:{height:"45rpx"}})])),_:2},1032,["onClick"])):g("",!0),2==t.status?(r(),u(A,{key:2},{default:i((()=>[d(v,{class:"w-100",src:L,mode:"aspectFill",style:{height:"45rpx"}})])),_:1})):g("",!0),3==t.status?(r(),u(A,{key:3},{default:i((()=>[d(v,{class:"w-100",src:T,mode:"aspectFill",style:{height:"45rpx"}})])),_:1})):g("",!0),4==t.status?(r(),u(A,{key:4,style:{border:"solid 2rpx #ffaa00",padding:"5rpx 10rpx","border-radius":"2rpx",color:"#ffaa00"}},{default:i((()=>[f("已撤单")])),_:1})):g("",!0)])),_:2},1024)])),_:2},1024),d(U,{class:"w-680 p-2 w-row-justify-between-align"},{default:i((()=>[d(A,{class:"font-26"},{default:i((()=>[f("投注编号")])),_:1}),d(A,{class:"w-wz-black8"},{default:i((()=>[f(w(t.orderid),1)])),_:2},1024)])),_:2},1024),d(U,{class:"w-680 p-2 w-row-justify-between-align"},{default:i((()=>[d(A,{class:"font-26"},{default:i((()=>[f("投注类型")])),_:1}),d(U,{class:"w-wz-cont",style:{display:"flex","align-items":"center"}},{default:i((()=>[f(w(t.game_name)+" | "+w(t.room_name)+" | "+w(t.room_betname),1)])),_:2},1024)])),_:2},1024),d(U,{class:"w-680 p-2 w-row-justify-between-align"},{default:i((()=>[d(A,{class:"font-26"},{default:i((()=>[f("下单号码")])),_:1}),d(A,{class:"w-wz-cont"},{default:i((()=>[d(A,{class:"p-2"},{default:i((()=>[f(w(t.number),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),d(U,{class:"w-680 p-2 w-row-justify-between-align"},{default:i((()=>[d(A,{class:"font-26"},{default:i((()=>[f("金额倍数")])),_:1}),d(A,{class:"w-wz-gree"},{default:i((()=>[f("￥"+w(t.money)+" | "+w(t.odds),1)])),_:2},1024)])),_:2},1024),d(U,{class:"w-680 p-2 w-row-justify-between-align"},{default:i((()=>[d(A,{class:"font-26"},{default:i((()=>[f("获得金额")])),_:1}),2==t.status?(r(),u(A,{key:0,class:"w-wz-gree"},{default:i((()=>[f("￥"+w(t.amoney),1)])),_:2},1024)):(r(),u(A,{key:1,class:"w-wz-gree"},{default:i((()=>[f("0.00")])),_:1}))])),_:2},1024),d(U,{class:"w-680 p-2 w-row-justify-between-align"},{default:i((()=>[d(A,{class:"font-26"},{default:i((()=>[f("投注时间")])),_:1}),d(A,{class:"w-wz-black8"},{default:i((()=>[f(w(t.create_time),1)])),_:2},1024)])),_:2},1024),d(U,{class:"h-10"})])),_:2},1024)))),256)),d(U,{class:"w-300 h-80 w-row-center w-bor-12"},{default:i((()=>[l.isShow?(r(),u(A,{key:0,class:"w-wz-conts font-28"},{default:i((()=>[f("没有数据了...")])),_:1})):g("",!0)])),_:1}),d(U,{class:"wh-30"}),0==l.tableData.length?(r(),u(I,{key:0})):g("",!0)])),_:1})}],["__scopeId","data-v-6b605acd"]]);export{U as default};
