import{G as t,J as s,m as a,u as e,z as l,A as o,a as n,w as i,j as w,o as c,b as u,f as d,e as f,r,F as h,h as _,x as m,i as g,g as p}from"./index-CzPo0QPm.js";import{a as y,b}from"./rq.muxAiw5R.js";import{r as j}from"./uni-app.es.CL_jKygs.js";import{$ as z}from"./request.BhjEuznL.js";import{_ as k}from"./goBack-icon.Dnnb51to.js";import{_ as x}from"./zwsj.YT3FapE5.js";import{_ as D}from"./_plugin-vue_export-helper.BCo6x5W8.js";const T=D({data:()=>({showTabs:!1,tableData:[],show:!1,start_time:"",end_time:"",pagenum:1,type:"",total:null,isShow:!1,defaultIndex:0,action:"积分"}),onLoad(){setTimeout((()=>{this.showTabs=!0}),500),this.getUserAgentLog()},onReachBottom(){t({title:"加载数据中..."}),this.tableData.length==this.total?this.isShow=!0:(this.pagenum++,this.getUserAgentLog());let a=setInterval((()=>{s(),clearTimeout(a)}),600);console.log("到底了")},methods:{tabClick(t){this.defaultIndex=t,this.action=this.tabs[t].action,this.pagenum=1,this.getUserAgentLog(!0)},changeTiem(t){this.start_time=t[0],this.end_time=t[1],this.getUserAgentLog(!0),console.log(t)},getUserAgentLog(t){z.post("/app_user_money_log",{type:this.type,pagenum:this.pagenum,start_time:this.start_time,end_time:this.end_time,action:this.action}).then((s=>{if(console.log(s),200!=s.code)return a({title:s.msg,duration:1e3,icon:"none"});t?0==s.data.data.length?(this.tableData=[],this.isShow=!0):(this.tableData=[],this.tableData.push(...s.data.data)):(this.tableData.push(...s.data.data),this.total=s.data.total,this.show=!0)}))}}},[["render",function(t,s,a,z,D,T){const A=m,L=w,U=g,C=j(e("uni-datetime-picker"),y);return l((c(),n(L,{class:"content"},{default:i((()=>[u(L,{class:"w-750 w-bj-cont",style:{position:"fixed",top:"0",left:"0"}},{default:i((()=>[u(L,{class:"h-100 w-row-justify-between-align"},{default:i((()=>[u(L,{class:"wh-80 w-row-center",onClick:s[0]||(s[0]=s=>t.routerBack())},{default:i((()=>[u(A,{class:"wh-40",src:k})])),_:1}),u(L,{class:"flex1 h-100 w-row-center w-wz-conts font-36"},{default:i((()=>[u(U,null,{default:i((()=>[d("积分明细")])),_:1})])),_:1}),u(L,{class:"wh-80 w-row-center"},{default:i((()=>[u(C,{type:"datetimerange",onChange:T.changeTiem},{default:i((()=>[u(A,{class:"wh-50",src:b})])),_:1},8,["onChange"])])),_:1})])),_:1})])),_:1}),u(L,{class:"bwh-120"}),(c(!0),f(h,null,r(D.tableData,((t,s)=>(c(),n(L,{class:"w-720 w-bj-cont w-bor-12 w-column-align m-bottom-20 font-24 w-wz-conts"},{default:i((()=>[u(L,{class:"h-10"}),u(L,{class:"w-680 p-2 w-row-justify-between-align"},{default:i((()=>[u(U,{class:"font-26"},{default:i((()=>[d("订单编号")])),_:1}),u(U,{class:"w-wz-black8"},{default:i((()=>[d(p(t.orderid),1)])),_:2},1024)])),_:2},1024),u(L,{class:"w-680 p-2 w-row-justify-between-align"},{default:i((()=>[u(U,{class:"font-26"},{default:i((()=>[d("当前"+p("money"==t.type?"余额":"points"==t.type?"积分":"彩金"),1)])),_:2},1024),u(U,{class:"w-wz-gree"},{default:i((()=>[d(p(t.moneys),1)])),_:2},1024)])),_:2},1024),t.ymoney>0?(c(),n(L,{key:0,class:"w-680 p-2 w-row-justify-between-align"},{default:i((()=>[u(U,{class:"font-26"},{default:i((()=>[d("赢取金额")])),_:1}),u(U,{class:"w-wz-gree"},{default:i((()=>[d(p(t.ymoney),1)])),_:2},1024)])),_:2},1024)):_("",!0),t.c_odds?(c(),n(L,{key:1,class:"w-680 p-2 w-row-justify-between-align"},{default:i((()=>[u(U,{class:"font-26"},{default:i((()=>[d("抽水金额("+p(t.c_odds)+"%)",1)])),_:2},1024),u(U,{class:"w-wz-red"},{default:i((()=>[d("-"+p(t.cmoney),1)])),_:2},1024)])),_:2},1024)):_("",!0),u(L,{class:"w-680 p-2 w-row-justify-between-align"},{default:i((()=>[u(U,{class:"font-26"},{default:i((()=>[d(p(t.ymoney>0?"结算":"变动")+p("money"==t.type?"余额":"points"==t.type?"积分":"彩金"),1)])),_:2},1024),1==t.status?(c(),n(U,{key:0,class:"w-wz-red"},{default:i((()=>[d("-"+p(Math.abs(t.amoney)),1)])),_:2},1024)):_("",!0),2==t.status?(c(),n(U,{key:1,class:"w-wz-gree"},{default:i((()=>[d("+"+p(t.amoney),1)])),_:2},1024)):_("",!0)])),_:2},1024),u(L,{class:"w-680 p-2 w-row-justify-between-align"},{default:i((()=>[u(U,{class:"font-26"},{default:i((()=>[d("原始"+p("money"==t.type?"余额":"points"==t.type?"积分":"彩金"),1)])),_:2},1024),u(U,{class:"w-wz-black8"},{default:i((()=>[d(p(t.money),1)])),_:2},1024)])),_:2},1024),u(L,{class:"w-680 p-2 w-row-justify-between-align"},{default:i((()=>[u(U,{class:"font-26"},{default:i((()=>[d("订单备注")])),_:1}),u(U,{class:"w-wz-cont"},{default:i((()=>[d(p(t.notes),1)])),_:2},1024)])),_:2},1024),u(L,{class:"w-680 p-2 w-row-justify-between-align"},{default:i((()=>[u(U,{class:"font-26"},{default:i((()=>[d("订单时间")])),_:1}),u(U,{class:"w-wz-black8"},{default:i((()=>[d(p(t.create_time),1)])),_:2},1024)])),_:2},1024),u(L,{class:"h-10"})])),_:2},1024)))),256)),0==D.tableData.length?(c(),n(L,{key:0,class:"w-720 h-200 w-column-align m-top-50"},{default:i((()=>[u(A,{class:"wh-150",src:x}),u(U,{class:"w-wz-conts"},{default:i((()=>[d("暂 无 数 据 ")])),_:1})])),_:1})):_("",!0),u(L,{class:"w-300 h-80 w-row-center w-bor-12"},{default:i((()=>[D.isShow?(c(),n(U,{key:0,class:"w-wz-conts font-28"},{default:i((()=>[d("没有数据了...")])),_:1})):_("",!0)])),_:1}),u(L,{class:"wh-30"})])),_:1},512)),[[o,D.show]])}],["__scopeId","data-v-87f4498d"]]);export{T as default};
